package usacoProblemsSilver;
/**
* @author Johan
 * @version Creation time: Oct 21, 2021 8:13:08 PM
 * Class Description
*/
import java.util.*;
import java.io.*;

public class typo {
  public static void main(String[] args) throws Exception {
    //Scanner in = new Scanner(new File("typo.in"));
    
    int numForward = 0; 
    int numBackward = 0; 
    
    int result = 0;
    
    //char[] input = in.nextLine().toCharArray(); 
    
    char[] input = "(((())(((((((((()))))))))))(())()()((()))(((()(((())))())((()(())))()()()((((((()))))()(())((()()()))(()))))()()(())()()(()())(())(((())))()()()()((((()(()))((((((()()))()))))(()())((((())))((()))(()()()))(()())(())(())((((((()()(())))))))(((((()))))(())((())()()((()))()())))((((((((((())()))(((((())))()((()))))((()))(())()())(((())((((()(()((()))(()))(((((()(()))()((())))))))))))()(())(()())()()(((((()()()())))((())()()((()))))(()))(()((()))()()(((()))()()))(((((()(())))(((()()))))))(((())()))))))))))((((((()(((()())))(())((()()()))()(()())()(())())(((())))((((())))(()(())(((((()))))(()))))(())()()(())()()((())()(())()()(())())(())))(())(())(()())))((())()())(((()(())((((()(()())))))((((((())))(()())((())((()()())))(()((((()))()))))))()(()()()(()()))()()()(()((()))()((())))))))(()()(()()()()())()(((()()(()))))((())))((()))()(()()())(()(()(())))()())))(((((()()())(()(()))()((()))((((()())((())())))))()(((()()())))(())((()()(((()()))()(())())()(())((((()())((((())))))))))((())())((()(((()))))))((()(()()()()((((((((()))))))))())(((((((((()))())(())()()((()((())))()()())))))))))(((((()()))))()((())))((((())((((((((())((())))))(((((()))))))()(())((((()(())))())))))(((((((())))(())(((()))))))()(((()()((((())))))))))))()(())(((((((((((((())()()))))((((((()()((()()()(()(())())()()))))((()))(()(()))()(((((((((((()((()))))(()()(())())))))))(()((()))()(()((((((()))(()())()))()(())())))((((()))((())))))))))(((((((()(())))))))((((((())())))()(())((((())(())(())(()()))))))((()(())))(())()))))))))((()()))))()()(())(()))(((((((((())()()()(())))()(((()()))())(((((((((()()))))))()(())(()))((((((()))(((())))()((()))))))(())(())))((()))(())(())((())()(())()())()(((((()))))))))))(())((()))((((()))(()((())))))))(((((((((((()()))()((())())(()))(((((()))(((((()((()))((((())((())))))()(((((((())())))()()()(()))))))))()()(())))))))(((()()))())(((((((()((()())))(()))())))))))((((()(())(()()(()))((((((()(((())))((((()))(()()()()(()))))((((((()))))))((((())())()()))))((((((()(())()())()()(((((())))((()((()))()))))(((((())))(())))))((())()()((()()()()(()())))(()()))((())((()))()(()))(()((()))()(()(())())()())(((())())((((()))))(()))(()((()))((()()))(((()())))((((()()()()))((((())((()()()(())()()))((()))(()()))))))))((((((()(()()())())))))(((((())()())(()()()()()(()())))))((())(()())()(()(())))((()()))((())(())))(((((((()))))))(()))(((())))())))))))))))))((((((((()()()())((((((()((())())(())((())))))()(()(((())(((()()))))))))(((()(()))))(()(()(((())())(()))()))()()((((())(()()()()()()()()()))))(((((((((((()())())(()()))(())(())((()()))((()))(())(((())))()()))((())((())))())))((((()()(()))))(()((())())())()()()())))))(((((((())()(())(()()))(()))))((((()))()())))()(())(()()()(())))(((((((((((()))(()))((())))(((()))()(((())())()())(((((()))()(())(())()))))(((()(()))()()()()())((()()()()()()()((())()))))(((()())(((()))()())()()((((()((((())))())(((())))))))((())(()((())))(((())(()))(((())))()(())))(())((((((()))()()()()()()(())((((()(())()())(()))))))(((())))()()()()(()))))))))))()()))((()())((()()())))))))))))((((()()((())()(()())())(()())(())()()()()()()(((())()()))((((()(()))((())(((()))))(())((())))))((()()()((()((((((((()))))))))((((())()(())(()())))((())))))))()()()(((()))))((((())((()))(()))(())((()(()())()))((((((()))(()(()))))))(())(()((((()()())))()(()))))(()((()())(((((()(())()))(()(()())))(((()((()())))(())))(()))((()()))))()()(())))))(((((()))(()())()()(((()())))()(())())))((((((((())())))(())((((((((()))((()()()())))))((()())))))(()()(((())))))(())((()()())))(((((())(())()())(((()())(())()))()))(()()))(((()(((((())())))))))))((())(())()())(((((()((()))()(()(()))(((((()(())(((()())()(())())))))))(((())(())))))(()()((()))))(((()((((()(()))))))))()(((((())((()(()))()))))))((((())((())()())(())()()()()())))((((()()()(()))()((()(()()))((())))))(()))((()(())()(())((((((()(())()()))((((()(())))()))((())(()()(()()(()))((())((()))))())))))))(((((()))()()())()))((())(())(()((((())()))))(()()))(((())((((((((((()))))(())()(())(()(())())(())()(((()()()()))()(())))(())(())()(()(()())()((((()()()))))(()()()())()(())))(((((((()))()()()(())())))(()())()()((())(((((()))))()(())))(()()())()()))))))()((()(())()(((()(((())()()))))((()))(((((((((()))))))))((())())((())))(()()()()()(((())())))((()))(()))(((((((((()((()))))((()()()()))))(()(())()())(()()()(())()()))))))))))))))((()(())(()()((()(()()))))()((((((()(()())))))))(((()()()()()()()()()()((()()))()())))(((((((((())(((((((()()(())))((()))()()(((()()())()))(())))((((())()((()()))(())()((()))(())))))))()))))))()(())((()()))()()(((()()(((()((()))()()(())())(()())))())((((()((((((())))))()(()))(((((())()())))(()))((((()()))))()())((())((()))())()()))))(()(()()))(())))((((()())))(((())((()(())))))()()()()((()()))())((()))((((())()(()))(((()))((()))((()()))()()(()()(()))(())(())()(())()((())((((((())()))))))((((())))())(((((()()()))))()))(((((())))())())()((()))()()()((((())()()(())()((()()))()(())((())))))))(()(())(())(((((()()())))))()()((((()())())(()))((())(()(())()(((())))()(()()))))((((((((()()))()))))))((()))(())(())(((()(())()(())))(()(()))()())(((())((()))()))))((((((()(()))())(((((()))()()(())()((((((()))()()((())()())(())((()))()((((()))))()(((())))()((()))))))(((((((((((())((()))())))(()()()()()()(()))()((((()()))))((()()))()()((()))(()()(()))))(((((((()()((()()()()))()(())()(())(((()()())(((()))))))((((((((((((()))))((())(()())()()(())))))))(((()()(()())(())()))())))((((())(())))()()()))))))))((((((()(())(()))))(()())()))((())))(((((((()()())()))))))((((()(())(())))))((()()((((((((()(()())((()))()(()))))(()()(())(())((()()))())))(((()))()()()())()((((())))))))()(()))((((((()))((((((())()()))(()()(()))))((()()))()))(((((((())))))(()))()(()())()()())((()))))))(()))))))((((((())))(((()()))()()(()(()))(((())))((())))))))(()()(()(((())()()))()(()))((())()(())()())(((()()()(())))())()(())(())(())()(())((()())()()((()(()))(((()))()))(((((()))))((((())(())))))(()()()())))()(((((((())(()))))((()()))))((()(((((((((()))((())))))((()())())()))))))))(((())(())()()(((((()((()()()((((()()()))())))))))(((((((())()((()))()(()()))))))))(())((()))(()()((())((())))()()))()(((()))())()()((())((()()))(((())))((()()(()))))((((()))(())))(((())(((((())())()())((()())(()))(((((())))))()((()))((((()()(())()))(((((()))))((((()))))))))))()(((((())()()))))((()()))(()(())())())(((((()))))((())())()(()((((()))))())(()())((()(())())))((()(()()()())(((()(((())))))((()()()))))))()()()(((((((((()))))))))(((()))))((((()))(()()(()))))(())(()(()()(()())))((((())))((())))(((())((()))(((((((())()))(((((((())))))()()()(((((()))()(())()()))))))))((())(((()()()(())))(())))(((())))(((())))(((((((()(())))()))()(())()(()()()()(())))((((())((()))((())))(()(()()))()()(((()))(())())))((((())()))(())()(()()())))))(()((()))(((((()))))(((((((()())))()()()(()())(()(())))))(())))(((())()())()((()))((())(()(())))))((())()((((((((((()()()()()(())(((((()))((()))()))))))))))))))))(()((()())()))((((())))()((((())((()(()())(((()))))()()()()))))(()()(((()))))(((((()()())((()))()((())))())))((((((()))))()((())())))(()))))))))(((()())()(()))((((((()))))))((())))((())(((((()())()((()))(((((((())()))))))((()()((((()))()))(((()()((((()))))(()(()()))((()))(()())((())))))((((()))()))(())(()())()()()()((()))(((((()()())))))()()(()))))))))))((((((((((()(((()()()())))())))))(((()))))((((((()()))()()(())()((((((((()))))((()))(())())))(())(((()()((()(()(())())))))(((()(((())))))))()(()(((((()())))((())))()))((()())()()()))(()())((())()())()))))((((((())()()))()(())(((())))()()()()()()()((((())()))(())()((()())()))(())(((())))()(((((()(()))((()()()()()()())((()())))((((((((((((())(()((())))())()()()()())))))))(((())))((((()()()))()()))(((())(((())(()))((()()))((()((())))))))(()()()())))(((((((((())())))))))(())))(((()()))((()(()))()()))()(())()))(((((((())(())(())))()((((()))()))))))))))()(())(())((((((())))))))((((((())((()(())())(())()(((()(())))(((((((()((())())())))))))(((()))(()()()()())(())((()())))(())((()(())(())(())()(())()))))))(((((()))()()(()(())))()()()))(()(()))((()))()()()(())(())()(())()((()))(((()()()())))((()()())()(())(())())(((()(()))()()((((()))))()(()()))))(((((()))(())(()(()))))()((()()((()))())(()()(()()())(())())(((((()(())))))))(((((()))))()(()()((()())))((()(())((((())))(()()((()(())))))(()(()(()()))()(((())())))()((((()()(())()(())()(()())((((()(()))(()))))(())())))))))(((((()))))((()())(()()))()())((((((((()()(())()(())()((()()))))((((()())(()())))((((((((())))())))()()))((()(((())((((())())))()(()()))))))((((((())()()))((()()(())))(())))((((())(((()))()))))))))))))))((((((()())))((()()))()()()()()((((((()()))(((()))())))((()(()())()()(()()(()())(())()((((()))())))(()()())(()())()))))(((())((()((()))))(((((())(())))))()()((()())(((()()(()())))))))(((()())())))((((((()))(()(()()))(((((()))(()()))))(())()((())())((()))(())()()))))(((((((())))((((((((())))(()()(()))))))))))(((((((()))))()()(()(()())))(())()((()))))(((((((())()(())))))))()(())(()())((((()))(()()())))(())(((()()()()(()())()((()))()))))((((((()))))(()))(((((((((((()(())()()))))((()))())())))))))((((((((((((((()())()()((())())(((((((((())))))))()())))()(((()))((((()()())))()((())())))(())((()((()))())(()()))(((()()())(())))()((()))()()()((()())()(())))))))(((((((()()()((()))()(())))((((()(()()(()))))))))))))((((()(()()()))()()(()()(())()()()()))))))))((((((()((())))))))((()(()(()((((((()()())))(())))))((((()))))((()()(())))((((((()((()())))(((())))(())))(((((((()()))((()))(()()()))))))(()))))()(())))))((((((()(())()()()())(()((()))()())(()((())(())(()))(())()(((())())((((()))))(((((())(())))))))(((()))((()))()()(()()()))(((())))((())())()()((((((()()(()()))(((())()())))))))((())()()()(())((((()(((()))))(((()())))()))((((())(())(((()))))((()))()()()))))(((((())()(())))))()((()()(())))(((())()()()(())))(((()())((((()()))))((((((())(()))))))(((())))))()(())()()((((()())())))()()((())())(((((())(())()()()))))((()())))))))((((((()))))(((((()))))))((((()))()()))()((())(()())()(()(()))))(((()()()()()(((((()()))()((())()(())(((((())))))()())))((((((()())(())((())()))))))))))))))))".toCharArray();
    
    //in.close();
    
    for(int i = 0; i < input.length; i++) {
    	if(input[i] == '(') numForward++; 
    	else if(input[i] == ')') numBackward++; 
    	
    	if(numBackward > numForward) result = numBackward - 1; 
    }
    
    numBackward = 0; 
    numForward = 0; 
    
    for(int i = input.length - 1; i >= 0; i--) {
    	if(input[i] == '(') numForward++; 
    	else if(input[i] == ')') numBackward++; 
    	
    	if(numForward > numBackward) {
    		result = numForward - 1; 
    	}
    	
    }
    
    if(Math.abs(numBackward - numForward) != 2) result = 0; 
    
    
    
    


  
    
    PrintWriter out = new PrintWriter(new File("typo.out"));
    System.out.println(result);
    out.println(result);
    out.close();
  }
}